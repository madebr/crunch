sudo: false
dist: trusty
language: cpp

addons:
  apt:
    sources:
      - ubuntu-toolchain-r-test
      - llvm-toolchain-trusty-4.0
    packages:
      - gcc-6
      - g++-6
      - clang-4.0
      - clang++-4.0

env:
  matrix:
    - COMP_CXX=g++-6 COMP_CC=gcc-6
    - COMP_CXX=clang++-4.0 COMP_CC=clang-4.0

before_script:
  - CMAKE_VERSION="cmake-3.8.1-Linux-x86_64"
  - wget "http://cmake.org/files/v3.8/$CMAKE_VERSION.tar.gz"
  - tar xf "$CMAKE_VERSION.tar.gz"
  - export CMAKE="$(pwd)/$CMAKE_VERSION/bin/cmake"
  - $CMAKE --version
script:
  - ls /usr/bin/cl*
  - mkdir build
  - cd build
  - $CMAKE -DCMAKE_C_COMPILER=$COMP_CC -DCMAKE_CXX_COMPILER=$COMP_CXX ..
  - $CMAKE --build .
